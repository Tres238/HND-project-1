<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us | Frontend Wizards</title>
  <link rel="stylesheet" href="contact.css">
</head>
<body>
  <form id="contactForm" novalidate>
    <h1>Contact Us</h1>

    <label for="name">Full Name:</label>
    <input id="name" data-testid="test-contact-name" type="text" required aria-describedby="error-name">
    <p class="error" id="error-name" data-testid="test-contact-error-name"></p>

    <label for="email">Email:</label>
    <input id="email" data-testid="test-contact-email" type="email" required aria-describedby="error-email">
    <p class="error" id="error-email" data-testid="test-contact-error-email"></p>

    <label for="subject">Subject:</label>
    <input id="subject" data-testid="test-contact-subject" type="text" required aria-describedby="error-subject">
    <p class="error" id="error-subject" data-testid="test-contact-error-subject"></p>

    <label for="message">Message:</label>
    <textarea id="message" data-testid="test-contact-message" rows="5" required aria-describedby="error-message"></textarea>
    <p class="error" id="error-message" data-testid="test-contact-error-message"></p>

    <button type="submit" data-testid="test-contact-submit">Submit</button>
    <p class="success" id="success" data-testid="test-contact-success"></p>
  </form>

  <script>
    const form = document.getElementById("contactForm");
    const successMsg = document.getElementById("success");

    form.addEventListener("submit", function(e) {
      e.preventDefault();

      // Reset errors
      document.querySelectorAll(".error").forEach(el => el.textContent = "");
      successMsg.textContent = "";

      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const subject = document.getElementById("subject").value.trim();
      const message = document.getElementById("message").value.trim();

      let valid = true;

      if (name === "") {
        document.getElementById("error-name").textContent = "Name is required";
        valid = false;
      }
      if (email === "" || !/^[^ ]+@[^ ]+\.[a-z]{2,3}$/.test(email)) {
        document.getElementById("error-email").textContent = "Enter a valid email";
        valid = false;
      }
      if (subject === "") {
        document.getElementById("error-subject").textContent = "Subject is required";
        valid = false;
      }
      if (message.length < 10) {
        document.getElementById("error-message").textContent = "Message must be at least 10 characters";
        valid = false;
      }

      if (valid) {
        successMsg.textContent = "âœ… Message sent successfully!";
        form.reset();
      }
    });
  </script>
</body>
</html>
